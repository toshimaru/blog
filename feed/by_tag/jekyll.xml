<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.2.0">Jekyll</generator><link href="https://blog.toshima.ru/feed/by_tag/jekyll.xml" rel="self" type="application/atom+xml" /><link href="https://blog.toshima.ru/" rel="alternate" type="text/html" /><updated>2020-12-31T04:11:09+09:00</updated><id>https://blog.toshima.ru/feed/by_tag/jekyll.xml</id><title type="html">Toshimaruâ€™s Blog</title><subtitle>Where there&apos;s a will, there&apos;s a way.
</subtitle><author><name>toshimaru</name></author><entry><title type="html">Create Table of Contents in kramdown</title><link href="https://blog.toshima.ru/2020/05/22/kramdown-toc.html" rel="alternate" type="text/html" title="Create Table of Contents in kramdown" /><published>2020-05-22T00:00:00+09:00</published><updated>2020-10-20T00:00:00+09:00</updated><id>https://blog.toshima.ru/2020/05/22/kramdown-toc</id><content type="html" xml:base="https://blog.toshima.ru/2020/05/22/kramdown-toc.html">&lt;p&gt;If you use &lt;a href=&quot;https://github.com/gettalong/kramdown&quot;&gt;kramdown&lt;/a&gt; (which is a default markdown renderer for &lt;a href=&quot;https://github.com/jekyll/jekyll&quot;&gt;Jekyll&lt;/a&gt;), you can easily add TOC (Table of Contents) to your markdown contents.&lt;/p&gt;

&lt;p&gt;Just add the snippet to the position where you want to show the TOC.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;* toc
{:toc}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;table-of-contents-for-this-post&quot;&gt;Table of Contents for this post&lt;/h2&gt;

&lt;p&gt;Letâ€™s add TOC in this post.&lt;/p&gt;

&lt;p&gt;ðŸ‘‡&lt;/p&gt;

&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#table-of-contents-for-this-post&quot; id=&quot;markdown-toc-table-of-contents-for-this-post&quot;&gt;Table of Contents for this post&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#does-it-work&quot; id=&quot;markdown-toc-does-it-work&quot;&gt;Does it work?&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#reference&quot; id=&quot;markdown-toc-reference&quot;&gt;Reference&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ðŸ‘†&lt;/p&gt;

&lt;h2 id=&quot;does-it-work&quot;&gt;Does it work?&lt;/h2&gt;

&lt;p&gt;As you can see, it works correctly! :)&lt;/p&gt;

&lt;h2 id=&quot;reference&quot;&gt;Reference&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://kramdown.gettalong.org/converter/html.html#toc&quot;&gt;HTML Converter | kramdown&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name>toshimaru</name></author><category term="jekyll" /><category term="markdown" /><summary type="html">If you use kramdown (which is a default markdown renderer for Jekyll), you can easily add TOC (Table of Contents) to your markdown contents.</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://blog.toshima.ru/android-chrome-512x512.png" /><media:content medium="image" url="https://blog.toshima.ru/android-chrome-512x512.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">Publish Jekyll site without gh-pages branch</title><link href="https://blog.toshima.ru/2016/08/24/publish-jekyll-without-gh-pages.html" rel="alternate" type="text/html" title="Publish Jekyll site without gh-pages branch" /><published>2016-08-24T00:00:00+09:00</published><updated>2016-08-24T00:00:00+09:00</updated><id>https://blog.toshima.ru/2016/08/24/publish-jekyll-without-gh-pages</id><content type="html" xml:base="https://blog.toshima.ru/2016/08/24/publish-jekyll-without-gh-pages.html">&lt;p&gt;Github announced &lt;a href=&quot;https://help.github.com/articles/configuring-a-publishing-source-for-github-pages/&quot;&gt;variety of sources of Github Pages&lt;/a&gt; is supported in &lt;a href=&quot;https://github.com/blog/2233-publish-your-project-documentation-with-github-pages&quot;&gt;their official blog&lt;/a&gt;. It allows developers to publish Github Pages with master branch instead of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;gh-pages&lt;/code&gt; branch. Since this feature, you can publish your Jekyll site without using &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;gh-pages&lt;/code&gt; branch and Github Pages deployment now can be much simpler.&lt;/p&gt;

&lt;h2 id=&quot;build-page-on-docs-directory&quot;&gt;Build page on docs directory&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;First step&lt;/strong&gt;: Configure build destination.&lt;/p&gt;

&lt;div class=&quot;language-yml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;# _config.yml&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;destination&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;./docs&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Now Jekyll pages are built on &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;./docs&lt;/code&gt; directory.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ jekyll build
Configuration file: /Users/toshimaru/blog.toshima.ru/_config.yml
            Source: /Users/toshimaru/blog.toshima.ru
       Destination: ./docs
 Incremental build: disabled. Enable with --incremental
      Generating...
                    done in 4.078 seconds.
 Auto-regeneration: disabled. Use --watch to enable.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Yay, you are almost ready to publish the pages.&lt;/p&gt;

&lt;h2 id=&quot;use-docs-instead-of-gh-pages-branch&quot;&gt;Use docs instead of gh-pages branch&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;Last step&lt;/strong&gt;: Change Github Pages source in your repository setting.&lt;/p&gt;

&lt;p&gt;&lt;amp-img src=&quot;/images/doc-gh-pages.png&quot; alt=&quot;change Github Pages source&quot; width=&apos;745&apos; height=&apos;436&apos; layout=&apos;responsive&apos;&gt;&lt;/amp-img&gt;&lt;/p&gt;

&lt;p&gt;You will see your Github Pages on your own published pages. Happy Jekylling &amp;lt;3&lt;/p&gt;

&lt;h2 id=&quot;pro-tip&quot;&gt;Pro Tip&lt;/h2&gt;

&lt;p&gt;By using &lt;a href=&quot;https://github.com/ruby/rake&quot;&gt;rake&lt;/a&gt;, you can deploy your Jekyll site with one command, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rake deploy&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-rb highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;# Rakefile&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;desc&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;deploy Jekyll site to Github Pages&apos;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;task&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:deploy&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;sh&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;bundle exec jekyll clean&apos;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;sh&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;bundle exec jekyll build&apos;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;sh&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;git add ./docs&apos;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;sh&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;git commit -m \&apos;Update\&apos;&apos;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;sh&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;git push origin master&apos;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In this task, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rake deploy&lt;/code&gt; builds Jekyll site and push it to Github for you. This is useful if youâ€™d like to release your site on CI such as TravisCI, CircleCi.&lt;/p&gt;

&lt;h2 id=&quot;see-also&quot;&gt;See also&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://jekyllrb.com/docs/configuration/&quot;&gt;Configuration - Jekyll â€¢ Simple, blog-aware, static sites&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name>toshimaru</name></author><category term="jekyll" /><category term="github" /><summary type="html">Github announced variety of sources of Github Pages is supported in their official blog. It allows developers to publish Github Pages with master branch instead of gh-pages branch. Since this feature, you can publish your Jekyll site without using gh-pages branch and Github Pages deployment now can be much simpler.</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://blog.toshima.ru/android-chrome-512x512.png" /><media:content medium="image" url="https://blog.toshima.ru/android-chrome-512x512.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">Fix Jekyll build error: Invalid date error</title><link href="https://blog.toshima.ru/2016/06/13/fix-jekyll-invalid-date.html" rel="alternate" type="text/html" title="Fix Jekyll build error: Invalid date error" /><published>2016-06-13T00:00:00+09:00</published><updated>2016-06-13T00:00:00+09:00</updated><id>https://blog.toshima.ru/2016/06/13/fix-jekyll-invalid-date</id><content type="html" xml:base="https://blog.toshima.ru/2016/06/13/fix-jekyll-invalid-date.html">&lt;p&gt;When I ran &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;jekyll build&lt;/code&gt;, I got an error:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Configuration file: blog.toshima.ru/_config.yml
            Source: blog.toshima.ru
       Destination: blog.toshima.ru/_site
 Incremental build: disabled. Enable with --incremental
      Generating...
             ERROR: YOUR SITE COULD NOT BE BUILT:
                    ------------------------------------
                    Invalid date &apos;&amp;lt;%= Time.now.strftime(&apos;%Y-%m-%d %H:%M:%S %z&apos;) %&amp;gt;&apos;: Document &apos;gems/jekyll-3.1.6/lib/site_template/_posts/0000-00-00-welcome-to-jekyll.markdown.erb&apos; does not have a valid date in the YAML front matter.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This is because I didnâ€™t exclude &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;vendor&lt;/code&gt; directory in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;_config.yml&lt;/code&gt;, so I added the following Configuration:&lt;/p&gt;

&lt;div class=&quot;language-yml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;na&quot;&gt;exclude&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;...&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;vendor&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This fixes Jekyll build error.&lt;/p&gt;</content><author><name>toshimaru</name></author><category term="jekyll" /><summary type="html">When I ran jekyll build, I got an error:</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://blog.toshima.ru/android-chrome-512x512.png" /><media:content medium="image" url="https://blog.toshima.ru/android-chrome-512x512.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">How to disable layout in Jekyll</title><link href="https://blog.toshima.ru/2016/06/12/how-to-disable-layout-in-jekyll.html" rel="alternate" type="text/html" title="How to disable layout in Jekyll" /><published>2016-06-12T00:00:00+09:00</published><updated>2016-06-12T00:00:00+09:00</updated><id>https://blog.toshima.ru/2016/06/12/how-to-disable-layout-in-jekyll</id><content type="html" xml:base="https://blog.toshima.ru/2016/06/12/how-to-disable-layout-in-jekyll.html">&lt;p&gt;Set &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;layout: null&lt;/code&gt; to disable layout in Jekyll.&lt;/p&gt;

&lt;div class=&quot;language-yml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nn&quot;&gt;---&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;layout&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;null&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# layout:       # =&amp;gt; this is wrong!&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# layout: false # =&amp;gt; this is wrong!&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# layout: nil   # =&amp;gt; this is wrong!&lt;/span&gt;
&lt;span class=&quot;nn&quot;&gt;---&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;</content><author><name>toshimaru</name></author><category term="jekyll" /><summary type="html">Set layout: null to disable layout in Jekyll.</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://blog.toshima.ru/android-chrome-512x512.png" /><media:content medium="image" url="https://blog.toshima.ru/android-chrome-512x512.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry></feed>